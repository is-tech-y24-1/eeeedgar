# Сборщик мусора. Генетический алгоритм

## Этап 1

### Написание минимальной работающей программы

Был использован [шаблон из организации](https://github.com/is-tech-y24-1/GeneticAlgoTemplate).

Задача - найти маршрут из одной точки в другую, избегая препятствия.

Для этого помимо сущностей, представленных в шаблоне, была создана новая - траектория *(Trajectory)*.
Она представляла из себя список векторов - перемещений точки на каждой итерации.

В новом решении каждое перемещение для каждой из точек считается случайным образом с условием, что точка не выйдет за границы холста и не попадет в препятствие.

Обнаружив, что отрисовка круглых препятствий не зависит от их радиуса, исправим это. Теперь фактический радиус круга соответствует толщине его обводки.

![Картинка из UI с найденным решением](./img/display-1.png)

## Этап 2

### Анализ работы программы с помощью dotTrace и dotMemory

Для анализа производительности генетического алгоритма напишем реализацию его запуска без UI.

![Результат первого запуска в dotTrace](./img/dottrace-1.png)

![Функция Mutate крупным планом при первом запуске в dotTrace](./img/dottrace-mutate-1.png)

Видим, что более 40% времени занимает функция ToArray() - очень плохо, надо оптимизировать.

Возможное решение - использовать такие структуры, чтобы не требовалось постоянное копирование массива.

![Результат первого запуска в dotMemory](./img/dotmemory-1.png)

Видим, что создается много долгоживущих элементов - очень плохо, надо фиксить.

Возможное решение - использование таких структур, чтобы не требовалось пересоздавать долгоживущие объекты.

